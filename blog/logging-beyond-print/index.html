<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Two Logging Options Better than Print Statements | Peter Baumgartner</title><meta name=keywords content><meta name=description content="This is a short blog post on two things I&rsquo;ve found helpful when I&rsquo;m not using notebooks and running python code that I want to log things in.
Loguru Here&rsquo;s an example of how I use loguru. Typically I don&rsquo;t include all the boilerplate at the top, but for illustration of some of the functionality I&rsquo;m including it.
In this snippet I&rsquo;m changing the default logger format by adding the time elapsed since program start."><meta name=author content><link rel=canonical href=https://www.peterbaumgartner.com/blog/logging-beyond-print/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.peterbaumgartner.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.peterbaumgartner.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.peterbaumgartner.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.peterbaumgartner.com/apple-touch-icon.png><link rel=mask-icon href=https://www.peterbaumgartner.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.104.2"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-72692144-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="Two Logging Options Better than Print Statements"><meta property="og:description" content="This is a short blog post on two things I&rsquo;ve found helpful when I&rsquo;m not using notebooks and running python code that I want to log things in.
Loguru Here&rsquo;s an example of how I use loguru. Typically I don&rsquo;t include all the boilerplate at the top, but for illustration of some of the functionality I&rsquo;m including it.
In this snippet I&rsquo;m changing the default logger format by adding the time elapsed since program start."><meta property="og:type" content="article"><meta property="og:url" content="https://www.peterbaumgartner.com/blog/logging-beyond-print/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-01-12T21:02:41-05:00"><meta property="article:modified_time" content="2022-01-12T21:02:41-05:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Two Logging Options Better than Print Statements"><meta name=twitter:description content="This is a short blog post on two things I&rsquo;ve found helpful when I&rsquo;m not using notebooks and running python code that I want to log things in.
Loguru Here&rsquo;s an example of how I use loguru. Typically I don&rsquo;t include all the boilerplate at the top, but for illustration of some of the functionality I&rsquo;m including it.
In this snippet I&rsquo;m changing the default logger format by adding the time elapsed since program start."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blog","item":"https://www.peterbaumgartner.com/blog/"},{"@type":"ListItem","position":2,"name":"Two Logging Options Better than Print Statements","item":"https://www.peterbaumgartner.com/blog/logging-beyond-print/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Two Logging Options Better than Print Statements","name":"Two Logging Options Better than Print Statements","description":"This is a short blog post on two things I\u0026rsquo;ve found helpful when I\u0026rsquo;m not using notebooks and running python code that I want to log things in.\nLoguru Here\u0026rsquo;s an example of how I use loguru. Typically I don\u0026rsquo;t include all the boilerplate at the top, but for illustration of some of the functionality I\u0026rsquo;m including it.\nIn this snippet I\u0026rsquo;m changing the default logger format by adding the time elapsed since program start.","keywords":[],"articleBody":" This is a short blog post on two things I’ve found helpful when I’m not using notebooks and running python code that I want to log things in.\nLoguru Here’s an example of how I use loguru. Typically I don’t include all the boilerplate at the top, but for illustration of some of the functionality I’m including it.\nIn this snippet I’m changing the default logger format by adding the time elapsed since program start. The program itself loads data and a spaCy model, and I want to know how long both of those steps take.\nimport sys import spacy from loguru import logger from utils import load_data # loguru boilerplate # don't really need this, but adds time elapsed # can convert to environment variable logformat = ( \"{elapsed.seconds:0\u003e4}s | \" \"{time:YYYY-MM-DD HH:mm:ss.SSS} | \" \"{level: \u003c8} | \" \"{name}:{function}:{line} - {message}\" ) logger.remove() # remove default logger logger.add(sys.stderr, format=logformat) logger.add(\"default.log\", format=logformat) # log to a file as well logger = logger.opt(colors=True) if __name__ == \"__main__\": df = load_data(\"data.parquet\", columns=[\"count\"]) logger.info(\"Data Loaded\") logger.info(\"Loading Model\") nlp = spacy.load(\"en_core_web_lg\", disable=[\"ner\"]) logger.info(f\"loaded model. Pipeline: {nlp.pipe_names}\") 0000s | 2022-01-12 09:12:22.212 | INFO | utils:load_data:7 - Loading Data 0001s | 2022-01-12 09:12:22.770 | INFO | __main__::21 - Data Loaded 0001s | 2022-01-12 09:12:22.771 | INFO | __main__::23 - Loading Model 0005s | 2022-01-12 09:12:27.229 | INFO | __main__::25 - loaded model. Pipeline: ['tagger', 'parser'] (colors not rendered)\nWe can use this to eyeball how long certain parts of our program take to run. In addition, it let’s us know the namespace, function, and line number of where something gets logged. For example, in the first logger call I’m calling a function load_data in the utils file (not included here), which calls the logger on line 7 - hence utils:load_data:7.\nThere’s lots more to customize with loguru. For example, you can change the default format using an environment variable so you don’t have to include that boilerplate in every file. However, the killer feature for me is that I can just use from loguru import logger and be able to log things without including boilerplate.\nTqdm Subsidiary Data Sometimes I will iterate over something and there’s a subsidiary thing that I want to count. For example, if I’m tokenizing documents with spaCy, sometimes I’ll count the vocab size and total tokens.\nimport spacy from tqdm import tqdm nlp = spacy.load(\"en_core_web_lg\") docs = [\"this is a document\", \"here is another document\", \"please tokenize me\"] # collections setup tokenized_docs = [] vocab = set() # tqdm setup vocab_size = 0 n_tokens = 0 pbar = tqdm(nlp.pipe(docs), desc=\"Tokenizing Docs\", total=len(docs)) for doc in pbar: tokens = [t.text for t in doc] vocab |= set(tokens) vocab_size = len(vocab) n_tokens += len(tokens) tokenized_docs.append(tokens) pbar.set_postfix({\"vocab_size\": vocab_size, \"tokens\": n_tokens}) Tokenizing Docs: 100%|██████████| 3/3 [00:00\u003c00:00, 294.98it/s, vocab_size=9, tokens=11] Multi-Step Processes You can also use tqdm when you have a logically coherent set of steps for a process, and the steps might not take the same amount of time. Here’s an example from some plotter code I wrote that deduplicates overlapping lines and merges them if they’re connected. There are three stages that take different amounts of time, but I use this to update the progress bar with what stage the process is at and capture the total time elapsed when it’s done.\nwith tqdm( total=3, desc=\"Line Cleanup\", postfix={\"Stage\": \"Making LineString\"} ) as pbar: lines = geo.MultiLineString(lines) pbar.update() pbar.set_postfix({\"Stage\": \"Self-Intersecting\"}) lines = lines.intersection(lines) pbar.update() pbar.set_postfix({\"Stage\": \"Merging Lines\"}) lines = ops.linemerge(lines) pbar.update() Line Cleanup: 100%|██████████| 3/3 [00:02\u003c00:00, 1.11it/s, Stage=Merging Lines] Summary Check out loguru and tqdm for lightweight ways of logging things that provide supplemental info about your program.\n","wordCount":"604","inLanguage":"en","datePublished":"2022-01-12T21:02:41-05:00","dateModified":"2022-01-12T21:02:41-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.peterbaumgartner.com/blog/logging-beyond-print/"},"publisher":{"@type":"Organization","name":"Peter Baumgartner","logo":{"@type":"ImageObject","url":"https://www.peterbaumgartner.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.peterbaumgartner.com/ accesskey=h title="Peter Baumgartner (Alt + H)">Peter Baumgartner</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://www.peterbaumgartner.com/ title=Home><span>Home</span></a></li><li><a href=https://www.peterbaumgartner.com/blog/ title=Blog><span>Blog</span></a></li><li><a href=https://www.peterbaumgartner.com/notebooks/ title=Notebooks><span>Notebooks</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Two Logging Options Better than Print Statements</h1><div class=post-meta><span title='2022-01-12 21:02:41 -0500 -0500'>January 12, 2022</span></div></header><div class=post-content><meta name=twitter:card content="summary"><meta name=twitter:site content="@pmbaumgartner"><meta name=twitter:creator content="@pmbaumgartner"><meta name=twitter:title content="Two Logging Options Better than Print Statements"><meta name=twitter:description content="Three brief examples of loguru and tqdm"><meta name=twitter:image content="https://i.ibb.co/LYz2DyQ/1537215809678.jpg"><p>This is a short blog post on two things I&rsquo;ve found helpful when I&rsquo;m <em>not</em> using notebooks and running python code that I want to log things in.</p><h2 id=loguru>Loguru<a hidden class=anchor aria-hidden=true href=#loguru>#</a></h2><p>Here&rsquo;s an example of how I use <code>loguru</code>. Typically I don&rsquo;t include all the boilerplate at the top, but for illustration of some of the functionality I&rsquo;m including it.</p><p>In this snippet I&rsquo;m changing the default logger format by adding the time elapsed since program start. The program itself loads data and a spaCy model, and I want to know how long both of those steps take.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> sys
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> spacy
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> loguru <span style=color:#f92672>import</span> logger
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> utils <span style=color:#f92672>import</span> load_data
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># loguru boilerplate</span>
</span></span><span style=display:flex><span><span style=color:#75715e># don&#39;t really need this, but adds time elapsed</span>
</span></span><span style=display:flex><span><span style=color:#75715e># can convert to environment variable</span>
</span></span><span style=display:flex><span>logformat <span style=color:#f92672>=</span> (
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&lt;blue&gt;</span><span style=color:#e6db74>{elapsed.seconds:0&gt;4}</span><span style=color:#e6db74>s&lt;/blue&gt; | &#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&lt;green&gt;{time:YYYY-MM-DD HH:mm:ss.SSS}&lt;/green&gt; | &#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&lt;level&gt;</span><span style=color:#e6db74>{level: &lt;8}</span><span style=color:#e6db74>&lt;/level&gt; | &#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&lt;cyan&gt;</span><span style=color:#e6db74>{name}</span><span style=color:#e6db74>&lt;/cyan&gt;:&lt;cyan&gt;</span><span style=color:#e6db74>{function}</span><span style=color:#e6db74>&lt;/cyan&gt;:&lt;cyan&gt;</span><span style=color:#e6db74>{line}</span><span style=color:#e6db74>&lt;/cyan&gt; - &lt;level&gt;</span><span style=color:#e6db74>{message}</span><span style=color:#e6db74>&lt;/level&gt;&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>logger<span style=color:#f92672>.</span>remove()  <span style=color:#75715e># remove default logger</span>
</span></span><span style=display:flex><span>logger<span style=color:#f92672>.</span>add(sys<span style=color:#f92672>.</span>stderr, format<span style=color:#f92672>=</span>logformat)
</span></span><span style=display:flex><span>logger<span style=color:#f92672>.</span>add(<span style=color:#e6db74>&#34;default.log&#34;</span>, format<span style=color:#f92672>=</span>logformat)  <span style=color:#75715e># log to a file as well</span>
</span></span><span style=display:flex><span>logger <span style=color:#f92672>=</span> logger<span style=color:#f92672>.</span>opt(colors<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    df <span style=color:#f92672>=</span> load_data(<span style=color:#e6db74>&#34;data.parquet&#34;</span>, columns<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#34;count&#34;</span>])
</span></span><span style=display:flex><span>    logger<span style=color:#f92672>.</span>info(<span style=color:#e6db74>&#34;Data Loaded&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    logger<span style=color:#f92672>.</span>info(<span style=color:#e6db74>&#34;Loading Model&#34;</span>)
</span></span><span style=display:flex><span>    nlp <span style=color:#f92672>=</span> spacy<span style=color:#f92672>.</span>load(<span style=color:#e6db74>&#34;en_core_web_lg&#34;</span>, disable<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#34;ner&#34;</span>])
</span></span><span style=display:flex><span>    logger<span style=color:#f92672>.</span>info(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;loaded model. Pipeline: </span><span style=color:#e6db74>{</span>nlp<span style=color:#f92672>.</span>pipe_names<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><pre tabindex=0><code>0000s | 2022-01-12 09:12:22.212 | INFO     | utils:load_data:7 - Loading Data
0001s | 2022-01-12 09:12:22.770 | INFO     | __main__:&lt;module&gt;:21 - Data Loaded
0001s | 2022-01-12 09:12:22.771 | INFO     | __main__:&lt;module&gt;:23 - Loading Model
0005s | 2022-01-12 09:12:27.229 | INFO     | __main__:&lt;module&gt;:25 - loaded model. Pipeline: [&#39;tagger&#39;, &#39;parser&#39;]
</code></pre><p><em>(colors not rendered)</em></p><p>We can use this to eyeball how long certain parts of our program take to run. In addition, it let&rsquo;s us know the namespace, function, and line number of where something gets logged. For example, in the first logger call I&rsquo;m calling a function <code>load_data</code> in the <code>utils</code> file (not included here), which calls the logger on line 7 - hence <code>utils:load_data:7</code>.</p><p>There&rsquo;s lots more to customize with <code>loguru</code>. For example, you can change the default format <a href=https://loguru.readthedocs.io/en/stable/overview.html#personalizable-defaults-through-environment-variables>using an environment variable</a> so you don&rsquo;t have to include that boilerplate in every file. However, the killer feature for me is that I can just use <code>from loguru import logger</code> and be able to log things <em>without</em> including boilerplate.</p><h2 id=tqdm>Tqdm<a hidden class=anchor aria-hidden=true href=#tqdm>#</a></h2><h3 id=subsidiary-data>Subsidiary Data<a hidden class=anchor aria-hidden=true href=#subsidiary-data>#</a></h3><p>Sometimes I will iterate over something and there&rsquo;s a subsidiary <em>thing</em> that I want to count. For example, if I&rsquo;m tokenizing documents with spaCy, sometimes I&rsquo;ll count the vocab size and total tokens.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> spacy
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> tqdm <span style=color:#f92672>import</span> tqdm
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nlp <span style=color:#f92672>=</span> spacy<span style=color:#f92672>.</span>load(<span style=color:#e6db74>&#34;en_core_web_lg&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>docs <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;this is a document&#34;</span>, <span style=color:#e6db74>&#34;here is another document&#34;</span>, <span style=color:#e6db74>&#34;please tokenize me&#34;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># collections setup</span>
</span></span><span style=display:flex><span>tokenized_docs <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>vocab <span style=color:#f92672>=</span> set()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># tqdm setup</span>
</span></span><span style=display:flex><span>vocab_size <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>n_tokens <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>pbar <span style=color:#f92672>=</span> tqdm(nlp<span style=color:#f92672>.</span>pipe(docs), desc<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Tokenizing Docs&#34;</span>, total<span style=color:#f92672>=</span>len(docs))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> doc <span style=color:#f92672>in</span> pbar:
</span></span><span style=display:flex><span>    tokens <span style=color:#f92672>=</span> [t<span style=color:#f92672>.</span>text <span style=color:#66d9ef>for</span> t <span style=color:#f92672>in</span> doc]
</span></span><span style=display:flex><span>    vocab <span style=color:#f92672>|=</span> set(tokens)
</span></span><span style=display:flex><span>    vocab_size <span style=color:#f92672>=</span> len(vocab)
</span></span><span style=display:flex><span>    n_tokens <span style=color:#f92672>+=</span> len(tokens)
</span></span><span style=display:flex><span>    tokenized_docs<span style=color:#f92672>.</span>append(tokens)
</span></span><span style=display:flex><span>    pbar<span style=color:#f92672>.</span>set_postfix({<span style=color:#e6db74>&#34;vocab_size&#34;</span>: vocab_size, <span style=color:#e6db74>&#34;tokens&#34;</span>: n_tokens})
</span></span></code></pre></div><pre tabindex=0><code>Tokenizing Docs: 100%|██████████| 3/3 [00:00&lt;00:00, 294.98it/s, vocab_size=9, tokens=11]
</code></pre><h3 id=multi-step-processes>Multi-Step Processes<a hidden class=anchor aria-hidden=true href=#multi-step-processes>#</a></h3><p>You can also use <code>tqdm</code> when you have a logically coherent set of steps for a process, and the steps might not take the same amount of time. Here&rsquo;s an example from some <a href="https://twitter.com/search?q=from%3A%40pmbaumgartner%20%23plottertwitter&src=typed_query&f=live">plotter</a> code I wrote that deduplicates overlapping lines and merges them if they&rsquo;re connected. There are three stages that take different amounts of time, but I use this to update the progress bar with what stage the process is at and capture the total time elapsed when it&rsquo;s done.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>with</span> tqdm(
</span></span><span style=display:flex><span>    total<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span>, desc<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Line Cleanup&#34;</span>, postfix<span style=color:#f92672>=</span>{<span style=color:#e6db74>&#34;Stage&#34;</span>: <span style=color:#e6db74>&#34;Making LineString&#34;</span>}
</span></span><span style=display:flex><span>) <span style=color:#66d9ef>as</span> pbar:
</span></span><span style=display:flex><span>    lines <span style=color:#f92672>=</span> geo<span style=color:#f92672>.</span>MultiLineString(lines)
</span></span><span style=display:flex><span>    pbar<span style=color:#f92672>.</span>update()
</span></span><span style=display:flex><span>    pbar<span style=color:#f92672>.</span>set_postfix({<span style=color:#e6db74>&#34;Stage&#34;</span>: <span style=color:#e6db74>&#34;Self-Intersecting&#34;</span>})
</span></span><span style=display:flex><span>    lines <span style=color:#f92672>=</span> lines<span style=color:#f92672>.</span>intersection(lines)
</span></span><span style=display:flex><span>    pbar<span style=color:#f92672>.</span>update()
</span></span><span style=display:flex><span>    pbar<span style=color:#f92672>.</span>set_postfix({<span style=color:#e6db74>&#34;Stage&#34;</span>: <span style=color:#e6db74>&#34;Merging Lines&#34;</span>})
</span></span><span style=display:flex><span>    lines <span style=color:#f92672>=</span> ops<span style=color:#f92672>.</span>linemerge(lines)
</span></span><span style=display:flex><span>    pbar<span style=color:#f92672>.</span>update()
</span></span></code></pre></div><pre tabindex=0><code>Line Cleanup: 100%|██████████| 3/3 [00:02&lt;00:00, 1.11it/s, Stage=Merging Lines]
</code></pre><h2 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h2><p>Check out <code>loguru</code> and <code>tqdm</code> for lightweight ways of logging things that provide supplemental info about your program.</p></div><footer class=post-footer></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://www.peterbaumgartner.com/>Peter Baumgartner</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body><script data-goatcounter=https://peterbaumgartner.goatcounter.com/count async src=//gc.zgo.at/count.js></script></html>